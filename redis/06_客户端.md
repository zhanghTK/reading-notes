服务器保存所有与服务器连接的客户端状态，具体信息保存在 redisServer 中定义的 list *clients 。
对客户端的操作都是通过遍历改链表得到。

在 数据库主要功能实现 中提到 redisClient 中定义了 redisDb *db

除此之外，客户端的其他主要信息包括：

## 客户端与服务器

服务器保存所有与服务器连接的客户端状态，具体信息保存在 redisServer 中定义的 list *clients 。
clients 以链表的形式保存所有客户端，对客户端的操作都是通过遍历改链表的形式操作对应客户端。

## 客户端主要属性

这里只记录通用属性，特殊属性在具体功能场景再说。

### 套接字描述符

redisClient 中定义了 int fd，根据客户端类型不同，fd 属性可能取值为：
- -1：伪客户端，伪客户端处理的命令请求来源于 AOF 文件或 Lua 脚本，而非网络（不需要套接字连接）
- 大于 -1 的整数：普通客户端，fd 属性记录客户端套接字的描述符

### 名字

redisClient 中定义了 robj *name，记录客户端名字。默认情况下没有名字。

CLIENT list 命令可以打印客户端信息

CLIENT setname 命令可以为客户端设置一个名字

###　标志

redisClient 中定义了 int flags，记录客户端角色以及客户端目前所处状态。
flags 属性值可以是单个标志，也可以是多个标志的二进制
角色标志：
- REDIS_MASTER/REDIS-SLAVE：主从复制时，主、从服务器互为客户端，REDIS_MASTER/REDIS-SLAVE 用于标示客户端是主/从服务器
- REDIS_PRE_PSYNC：客户端是一个版本低于 Redis2.8 的从服务器（主服务器不能使用 PSYNC 命令与这个从服务器同步）
- REDIS_LUA_CLIENT：客户端是专门用于处理 Lua 脚本里面包含的 Redis 命令的伪客户端
状态标志：
- REDIS_MONITOR：客户端正在执行 MONITOR 命令
- REDIS_UNIX_SOCKET：服务器使用 UNIX 套接字来连接客户端
- REDIS_BLOCKED：客户端正在被 BRPOP, BLPOP 等命令阻塞
- REDIS_UBBLOCKED：客户端已经从 REDIS_BLOCKED 标志锁表示的阻塞状态中脱离，不再阻塞
- REDIS_MULTI：客户端正在执行事务

##### TODO #####

### 输入缓冲区

redisClient 中定义了 sds querybuf

### 命令 & 命令参数

redisClient 中定义 robj ** argv; int argc

### 输出缓冲区

redisClient 中定义了 char buf[REDIS_REPLY_CHUNK_BYTES]; int bufpos;

### 身份验证

redisClient 中定义了 int authenticated

### 时间

redisClient 中定义了 time_t ctime; time_t lastinteraction; time_t obuf_soft_limt_reached_time;

## 创建 & 关闭